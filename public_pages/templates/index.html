{% extends 'base.html' %}
{% block content %}
<div class="wrapper">
  <h1>Welcome to </br><span>indexing helper</span> tool!</h1>
  <p class="help hvr-pulse">Upload your book index file (.txt)</p>
  <p class="help hvr-pulse">Wait while file is being processed</p>
  <p class="help hvr-pulse">Download your new, shiny index!</p>
  <p>For a complete list of rules for an index file, look <a href="/rules">here.</a></p>

  <div id="wrapper-input">
    <form id="file-form" method="post" enctype="multipart/form-data" class="hvr-wobble-top">
      {% csrf_token %}
      <label for="file-input" class="custom-file-upload">
        <i class="fa fa-cloud-upload-alt"></i>
        <span id="upload-label">Select a file</span>
      </label>
      <input type="file" id="file-input" name="my_file">
    </form>

    <div id="run-icon-wrapper" class="big-icon-wrapper">
      <i class="fas fa-play-circle run-btn"></i>
    </div>
  </div>

  {% if uploaded_file_url %}
  <div class="big-icon-wrapper hvr-icon-sink">
    <a href="{{ uploaded_file_url }}" download="index_new.txt">
      <i id="download-icon" class="fa fa-download fa-lg"> index_new.txt</i>
    </a>
  </div>
  {% endif %}
</div>
{% endblock %}